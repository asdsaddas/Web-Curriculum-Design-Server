import{d as h,H as _,X as D,_ as g,e as n,f as t,L as a,F as u,M as f,j as c,v as r,h as B,Y as I,o as d}from"./index-3f7c6146.js";/* empty css                    *//* empty css              *//* empty css               */import{m as o,a as F}from"./messageBox-f4d8c0d3.js";import{g as p,a as E,p as y,b as v}from"./affairServ-848d5dc3.js";const b=h({data:()=>({studentId:null,practiceList:[],studentList:[],editedItem:{},info:{},practiceDate:new Date}),computed:{},created(){this.initialize()},methods:{async initialize(){let e=await _(this.studentId);this.info=e.data.info,this.studentId=this.info.studentId,this.practiceList=await p(this.studentId),this.studentList=await E(),this.practiceDate=new Date(this.editedItem.practiceDate)},async query(){this.practiceList=await p(this.studentId)},addItem(){this.editedItem={},document.getElementById("favDialog").show()},editItem(e){this.editedItem=e,document.getElementById("favDialog").show()},close(){document.getElementById("favDialog").close()},async confirm(){this.close(),this.editedItem.practiceDate=D(this.practiceDate);const e=await y(this.editedItem.practiceId,this.info.studentId,this.editedItem.practiceName,this.editedItem.practiceDate,this.editedItem.practiceProfile);e.code==0?(o(this,"保存成功"),this.query()):o(this,e.msg)},async deleteItem(e){if(!await F("确认删除吗?"))return;const l=await v(e);l.code==0?(o(this,"成功删除了一条社会实践记录"),this.query()):o(this,l.msg)}}}),w={class:"base_form"},L=t("div",{class:"base_header"},[t("div",{class:"blue_column"}),t("div",{class:"base_title"},"社会实践管理")],-1),A={class:"base_query_oneLine"},N=t("div",{class:"query_left"},null,-1),k={class:"query_right"},P=t("span",null,"学生",-1),V={class:"table_center"},q={class:"content"},C=t("tr",{class:"<table_th"},[t("td",null,"学号"),t("td",null,"姓名"),t("td",null,"社会实践名称"),t("td",null,"社会实践时间"),t("td",null,"社会实践内容简介")],-1),$={id:"favDialog",onclose:"close()",style:{position:"absolute",top:"300px",left:"300px",width:"300px",height:"310px"}},S=t("div",{class:"base_title"},"--社会实践记录添加对话框显示--",-1),U={class:"dialog-div"},x={class:"dialog_content"},z=t("td",{colspan:"1",style:{"text-align":"right"}},"学生",-1),M={colspan:"1"},T=t("td",{colspan:"1",style:{"text-align":"right"}},"实践名称",-1),j={colspan:"1"},H=t("td",{colspan:"1",style:{"text-align":"right"}},"实践日期",-1),O={colspan:"1"},X=t("td",{colspan:"1",style:{"text-align":"right"}},"实践简介",-1),Y={colspan:"1"},G={colspan:"2"};function J(e,i,l,K,Q,R){const m=I;return d(),n(u,null,[t("div",w,[L,t("div",A,[N,t("div",k,[P,t("td",null,a(e.info.name),1)])]),t("div",V,[t("table",q,[C,(d(!0),n(u,null,f(e.practiceList,s=>(d(),n("tr",{key:s.practiceId},[t("td",null,a(s.stuNum),1),t("td",null,a(s.stuName),1),t("td",null,a(s.practiceName),1),t("td",null,a(s.practiceDate),1),t("td",null,a(s.practiceProfile),1)]))),128))])])]),t("dialog",$,[S,t("div",U,[t("table",x,[t("tr",null,[z,t("td",M,a(e.info.name),1)]),t("tr",null,[T,t("td",j,[c(t("input",{"onUpdate:modelValue":i[0]||(i[0]=s=>e.editedItem.practiceName=s),class:"commInput"},null,512),[[r,e.editedItem.practiceName]])])]),t("tr",null,[H,t("td",O,[B(m,{modelValue:e.practiceDate,"onUpdate:modelValue":i[1]||(i[1]=s=>e.practiceDate=s),type:"date",style:{width:"100%"},placeholder:"选择活动日期"},null,8,["modelValue"])])]),t("tr",null,[X,t("td",Y,[c(t("input",{"onUpdate:modelValue":i[2]||(i[2]=s=>e.editedItem.practiceProfile=s),class:"commInput"},null,512),[[r,e.editedItem.practiceProfile]])])]),t("tr",null,[t("td",G,[t("button",{class:"commButton",onClick:i[3]||(i[3]=s=>e.close()),style:{"margin-right":"30px"}}," 取消 "),t("button",{class:"commButton",onClick:i[4]||(i[4]=s=>e.confirm())},"确认")])])])])])],64)}const at=g(b,[["render",J]]);export{at as default};
