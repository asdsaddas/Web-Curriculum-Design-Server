import{d as I,_ as g,e as o,f as t,j as r,k as c,F as n,M as m,v,h as w,Y as y,o as l,L as a}from"./index-3f7c6146.js";/* empty css                    *//* empty css              *//* empty css               */import{d as f}from"./teachingServ-cfc695c1.js";import{j as p,k as B,l as b}from"./affairServ-848d5dc3.js";import{m as i,a as F}from"./messageBox-f4d8c0d3.js";const D=I({data:()=>({awardList:[],studentId:null,editedItem:{},studentList:[],deleteId:-1}),computed:{},created(){this.initialize()},methods:{async initialize(){this.awardList=await p(this.studentId),this.studentList=await f()},async query(){this.awardList=await p(this.studentId)},addItem(){this.editedItem={},document.getElementById("favDialog").show()},editItem(s){this.editedItem=s,document.getElementById("favDialog").show()},close(){document.getElementById("favDialog").close()},async confirm(){this.close();const s=await B(this.editedItem.awardId,this.editedItem.studentId,this.editedItem.awardName,this.editedItem.awardTime);s.code==0?(i(this,"保存成功"),this.query()):i(this,s.msg)},async deleteItem(s){if(!await F("确认删除吗?"))return;const u=await b(s);u.code==0?(i(this,"删除成功"),this.query()):i(this,u.msg)}}}),k={class:"base_form"},E=t("div",{class:"base_header"},[t("div",{class:"blue_column"}),t("div",{class:"base_title"},"成果奖励")],-1),C={class:"base_query_oneLine"},L={class:"query_left"},$={class:"query_right"},N=t("span",null,"学生",-1),V=t("option",{value:"0"},"请选择...",-1),q=["value"],T={class:"table_center",style:{"margin-top":"5px"}},A={class:"content"},S=t("tr",{class:"table_th"},[t("td",null,"学号"),t("td",null,"姓名"),t("td",null,"奖励"),t("td",null,"时间"),t("td",null,"操作")],-1),U=["onClick"],M=["onClick"],j={id:"favDialog",onclose:"close()",style:{position:"absolute",top:"300px",left:"300px",width:"350px",height:"300px"}},z=t("div",{class:"base_title"},"成果奖励添加修改对话框",-1),O={class:"dialog-div",style:{"margin-top":"5px"}},P={class:"dialog-content"},Y=t("td",{colspan:"1",style:{"text-align":"right"}},"学生",-1),G={colspan:"1"},H=t("option",{value:"0"},"请选择...",-1),J=["value"],K=t("td",{colspan:"1",style:{"text-align":"right"}},"奖励名称",-1),Q={colspan:"1"},R=t("td",{colspan:"1",style:{"text-align":"right"}},"日期",-1),W={colspan:"1"},X={colspan:"2"};function Z(s,d,u,x,tt,et){const h=y;return l(),o(n,null,[t("div",k,[E,t("div",C,[t("div",L,[t("button",{class:"commButton",onClick:d[0]||(d[0]=e=>s.addItem())},"添加")]),t("div",$,[N,r(t("select",{class:"commInput","onUpdate:modelValue":d[1]||(d[1]=e=>s.studentId=e)},[V,(l(!0),o(n,null,m(s.studentList,e=>(l(),o("option",{key:e.id,value:e.id},a(e.title),9,q))),128))],512),[[c,s.studentId]]),t("button",{style:{"margin-left":"5px"},class:"commButton",onClick:d[2]||(d[2]=e=>s.query())}," 查询 ")])]),t("div",T,[t("table",A,[S,(l(!0),o(n,null,m(s.awardList,e=>(l(),o("tr",{key:e.awardId},[t("td",null,a(e.stuNum),1),t("td",null,a(e.stuName),1),t("td",null,a(e.awardName),1),t("td",null,a(e.awardTime),1),t("td",null,[t("button",{class:"table_edit_button",onClick:_=>s.editItem(e)}," 编辑 ",8,U),t("button",{class:"table_delete_button",onClick:_=>s.deleteItem(e.awardId)}," 删除 ",8,M)])]))),128))])])]),t("dialog",j,[z,t("div",O,[t("table",P,[t("tr",null,[Y,t("td",G,[r(t("select",{class:"commInput","onUpdate:modelValue":d[3]||(d[3]=e=>s.editedItem.studentId=e)},[H,(l(!0),o(n,null,m(s.studentList,e=>(l(),o("option",{key:e.id,value:e.id},a(e.title),9,J))),128))],512),[[c,s.editedItem.studentId]])])]),t("tr",null,[K,t("td",Q,[r(t("input",{"onUpdate:modelValue":d[4]||(d[4]=e=>s.editedItem.awardName=e),class:"commInput"},null,512),[[v,s.editedItem.awardName]])])]),t("tr",null,[R,t("td",W,[w(h,{modelValue:s.editedItem.awardTime,"onUpdate:modelValue":d[5]||(d[5]=e=>s.editedItem.awardTime=e),type:"date",style:{width:"100%"},placeholder:"选择日期"},null,8,["modelValue"])])]),t("tr",null,[t("td",X,[t("button",{class:"commButton",onClick:d[6]||(d[6]=e=>s.close()),style:{"margin-right":"30px"}}," 取消 "),t("button",{class:"commButton",onClick:d[7]||(d[7]=e=>s.confirm())},"确认")])])])])])],64)}const ut=g(D,[["render",Z]]);export{ut as default};
