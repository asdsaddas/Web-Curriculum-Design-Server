import{d as w,_ as g,e as h,f as d,h as t,w as o,l as V,T as y,o as _,m as r,L as v,F as k,M as B,$ as E,V as F,p as I,a0 as C,a1 as L}from"./index-3f7c6146.js";/* empty css                     *//* empty css                 *//* empty css              *//* empty css            *//* empty css               *//* empty css               */import{c as $,f as D,d as U}from"./personServ-3cbbcc51.js";import{m as c,a as x}from"./messageBox-f4d8c0d3.js";const M=w({data:()=>({genderList:[{value:"1",title:"男"},{value:"2",title:"女"}],studentId:null,dataList:[]}),async created(){const a=this.$route.query.studentId;a!=null&&(this.studentId=parseInt(a.toString())),this.studentId!=null&&(this.dataList=await $(this.studentId))},methods:{addRow(){this.dataList.push({studentId:this.studentId})},async saveItem(a){const u=this.dataList[a],n=await D(u);n.code==0?c(this,"保存成功"):c(this,n.msg)},async deleteItem(a){if(!await x("确认删除当前成员吗?"))return;const n=await U(this.dataList[a].memberId);n.code==0?(c(this,"删除成功"),this.dataList.splice(a,1)):c(this,n.msg)}}}),S={class:"base_form"},T=d("div",{class:"base_header"},[d("div",{class:"blue_column"}),d("div",{class:"base_title"},"学生家庭成员信息")],-1),q={class:"base_query_oneLine"},N={class:"query_left"},A={class:"table-content"};function R(a,u,n,z,O,W){const m=V,s=F,i=I,p=C,f=L,b=y;return _(),h("div",S,[T,d("div",q,[d("div",N,[t(m,{class:"commButton",onClick:u[0]||(u[0]=e=>a.addRow())},{default:o(()=>[r("添加一行")]),_:1})])]),d("div",A,[t(b,{data:a.dataList,"header-cell-style":{color:"#2E2E2E",fontSize:"10px",fontWeight:"400",background:"rgb(242,242,242)"},"row-style":{height:"10px"},"cell-style":{padding:"2px"},style:{width:"100%"}},{default:o(()=>[t(s,{label:"序号",fixed:"left",width:"50",color:"black"},{default:o(e=>[r(v(e.$index+1),1)]),_:1}),t(s,{label:"关系",width:"150",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.relation,"onUpdate:modelValue":l=>e.row.relation=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"姓名",width:"150",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.name,"onUpdate:modelValue":l=>e.row.name=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"性别",width:"150",color:"black",align:"center"},{default:o(e=>[t(f,{modelValue:e.row.gender,"onUpdate:modelValue":l=>e.row.gender=l,placeholder:"请选择性别",style:{width:"90%"}},{default:o(()=>[(_(!0),h(k,null,B(a.genderList,l=>(_(),E(p,{key:l.value,label:l.title,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"年龄",width:"100",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.age,"onUpdate:modelValue":l=>e.row.age=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"单位",width:"150",color:"black",align:"center"},{default:o(e=>[t(i,{modelValue:e.row.unit,"onUpdate:modelValue":l=>e.row.unit=l,style:{width:"90%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(s,{label:"操作",width:"150",color:"black",align:"center"},{default:o(e=>[t(m,{class:"commButton",onClick:l=>a.saveItem(e.$index)},{default:o(()=>[r("保存")]),_:2},1032,["onClick"]),t(m,{class:"commButton",onClick:l=>a.deleteItem(e.$index)},{default:o(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","header-cell-style"])])])}const Z=g(M,[["render",R]]);export{Z as default};
