import{d as h,b as c,K as f,_ as w,e as k,f as i,h as a,w as l,l as B,p as C,T as E,U as y,o as F,m as o,L as s,V as D}from"./index-3f7c6146.js";/* empty css              *//* empty css            *//* empty css               *//* empty css                     *//* empty css                 *//* empty css               */import{g as v,s as P}from"./personServ-3cbbcc51.js";import{a as I,m}from"./messageBox-f4d8c0d3.js";const N=h({data:()=>({numName:"",dataList:[],pagination:{currentPage:1,pageSize:10,dataTotal:0}}),created(){this.getDataPage()},methods:{doQuery(){this.pagination.currentPage=1,this.getDataPage()},handleChangePage(t){this.pagination.currentPage=t,this.getDataPage()},async getDataPage(){const t=await v(this.numName,this.pagination.currentPage);this.pagination.dataTotal=t.data.dataTotal,this.pagination.pageSize=t.data.pageSize,this.dataList=t.data.dataList},addItem(){c.push({name:"StudentInfo"})},editItem(t){c.push({name:"StudentInfo",query:{studentId:t}})},async deleteItem(t){if(!await I("确认删除学生吗?"))return;const d=await P(t);d.code==0?m(this,"删除成功"):m(this,d.msg)},familyMember(t){c.push({name:"FamilyMember",query:{studentId:t}})},async doExport(){await f("/api/student/getStudentListExcl","学生.xlsx",{numName:this.numName})!=200&&m(this,"导出失败！")}}}),S={class:"base_form"},$=i("div",{class:"base_header"},[i("div",{class:"blue_column"}),i("div",{class:"base_title"},"学生管理")],-1),A={class:"base_query_oneLine",style:{width:"97%"}},T={class:"query_left"},z={class:"query_right"},L={class:"table-content"},V={class:"pagin"};function q(t,u,d,x,M,j){const r=B,p=C,n=D,_=E,b=y;return F(),k("div",S,[$,i("div",A,[i("div",T,[a(r,{class:"commButton",onClick:u[0]||(u[0]=e=>t.addItem())},{default:l(()=>[o("添加")]),_:1})]),i("div",z,[a(p,{modelValue:t.numName,"onUpdate:modelValue":u[1]||(u[1]=e=>t.numName=e)},{default:l(()=>[o("学号或姓名")]),_:1},8,["modelValue"]),a(r,{class:"commButton",onClick:u[2]||(u[2]=e=>t.doQuery())},{default:l(()=>[o("查询")]),_:1}),a(r,{class:"commButton",onClick:u[3]||(u[3]=e=>t.doExport())},{default:l(()=>[o("导出")]),_:1})])]),i("div",L,[a(_,{data:t.dataList,"header-cell-style":{color:"#2E2E2E",fontSize:"10px",fontWeight:"400",background:"rgb(242,242,242)"},"row-style":{height:"10px"},"cell-style":{padding:"2px"},style:{width:"100%"}},{default:l(()=>[a(n,{label:"序号",fixed:"left",width:"50",color:"black"},{default:l(e=>[o(s(e.$index+1),1)]),_:1}),a(n,{label:"学号",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.num),1)]),_:1}),a(n,{label:"姓名",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.name),1)]),_:1}),a(n,{label:"院系",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.dept),1)]),_:1}),a(n,{label:"专业",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.major),1)]),_:1}),a(n,{label:"班级",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.className),1)]),_:1}),a(n,{label:"证件号码",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.card),1)]),_:1}),a(n,{label:"性别",color:"black",align:"center",width:"100"},{default:l(e=>[o(s(e.row.genderName),1)]),_:1}),a(n,{label:"出生日期",color:"black",align:"center"},{default:l(e=>[o(s(e.row.birthday),1)]),_:1}),a(n,{label:"邮箱",color:"black",align:"center"},{default:l(e=>[o(s(e.row.email),1)]),_:1}),a(n,{label:"电话",color:"black",align:"center"},{default:l(e=>[o(s(e.row.phone),1)]),_:1}),a(n,{label:"地址",color:"black",align:"center"},{default:l(e=>[o(s(e.row.address),1)]),_:1}),a(n,{label:"操作",color:"black",align:"center",width:"260"},{default:l(e=>[a(r,{class:"commButton",onClick:g=>t.editItem(e.row.studentId)},{default:l(()=>[o("基本信息")]),_:2},1032,["onClick"]),a(r,{class:"commButton",onClick:g=>t.familyMember(e.row.studentId)},{default:l(()=>[o("家庭成员")]),_:2},1032,["onClick"]),a(r,{class:"commButton",onClick:g=>t.deleteItem(e.row.studentId)},{default:l(()=>[o("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","header-cell-style"])]),i("div",V,[a(b,{background:"",style:{"margin-top":"15px"},total:t.pagination.dataTotal,"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,onCurrentChange:t.handleChangePage,layout:"total, prev, pager, next, jumper"},null,8,["total","current-page","page-size","onCurrentChange"])])])}const X=w(N,[["render",q]]);export{X as default};
